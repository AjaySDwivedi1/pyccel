

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>pyccel.codegen.printing.pycode &mdash; pyccel * documentation</title>
  

  
  <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/custom.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/fonts.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../index.html" class="icon icon-home"> pyccel
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../modules.html">docBranck</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">pyccel</a>
        
      </nav>


      <div class="wy-nav-content">
<div class="git-ribbon">
  <a href="http://github.com/SwissDataScienceCenter" rel="me">Join us on GitHub</a>
</div>

        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../../index.html">Module code</a> &raquo;</li>
        
      <li>pyccel.codegen.printing.pycode</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for pyccel.codegen.printing.pycode</h1><div class="highlight"><pre>
<span></span><span class="c1"># coding: utf-8</span>
<span class="c1">#------------------------------------------------------------------------------------------#</span>
<span class="c1"># This file is part of Pyccel which is released under MIT License. See the LICENSE file or #</span>
<span class="c1"># go to https://github.com/pyccel/pyccel/blob/master/LICENSE for full license details.     #</span>
<span class="c1">#------------------------------------------------------------------------------------------#</span>
<span class="c1"># pylint: disable=missing-function-docstring</span>

<span class="kn">from</span> <span class="nn">pyccel.decorators</span> <span class="kn">import</span> <span class="n">__all__</span> <span class="k">as</span> <span class="n">pyccel_decorators</span>

<span class="kn">from</span> <span class="nn">pyccel.ast.builtins</span>   <span class="kn">import</span> <span class="n">PythonMin</span><span class="p">,</span> <span class="n">PythonMax</span>
<span class="kn">from</span> <span class="nn">pyccel.ast.core</span>       <span class="kn">import</span> <span class="n">CodeBlock</span><span class="p">,</span> <span class="n">Import</span><span class="p">,</span> <span class="n">Assign</span><span class="p">,</span> <span class="n">FunctionCall</span><span class="p">,</span> <span class="n">For</span><span class="p">,</span> <span class="n">AsName</span><span class="p">,</span> <span class="n">FunctionAddress</span>
<span class="kn">from</span> <span class="nn">pyccel.ast.core</span>       <span class="kn">import</span> <span class="n">IfSection</span><span class="p">,</span> <span class="n">FunctionDef</span><span class="p">,</span> <span class="n">Module</span>
<span class="kn">from</span> <span class="nn">pyccel.ast.datatypes</span>  <span class="kn">import</span> <span class="n">default_precision</span>
<span class="kn">from</span> <span class="nn">pyccel.ast.functionalexpr</span> <span class="kn">import</span> <span class="n">FunctionalFor</span>
<span class="kn">from</span> <span class="nn">pyccel.ast.literals</span>   <span class="kn">import</span> <span class="n">LiteralTrue</span><span class="p">,</span> <span class="n">LiteralString</span>
<span class="kn">from</span> <span class="nn">pyccel.ast.literals</span>   <span class="kn">import</span> <span class="n">LiteralInteger</span><span class="p">,</span> <span class="n">LiteralFloat</span><span class="p">,</span> <span class="n">LiteralComplex</span>
<span class="kn">from</span> <span class="nn">pyccel.ast.numpyext</span>   <span class="kn">import</span> <span class="n">Shape</span> <span class="k">as</span> <span class="n">NumpyShape</span><span class="p">,</span> <span class="n">numpy_target_swap</span>
<span class="kn">from</span> <span class="nn">pyccel.ast.numpyext</span>   <span class="kn">import</span> <span class="n">NumpyArray</span><span class="p">,</span> <span class="n">NumpyNonZero</span>
<span class="kn">from</span> <span class="nn">pyccel.ast.numpyext</span>   <span class="kn">import</span> <span class="n">DtypePrecisionToCastFunction</span>
<span class="kn">from</span> <span class="nn">pyccel.ast.variable</span>   <span class="kn">import</span> <span class="n">DottedName</span><span class="p">,</span> <span class="n">HomogeneousTupleVariable</span><span class="p">,</span> <span class="n">Variable</span>
<span class="kn">from</span> <span class="nn">pyccel.ast.utilities</span>  <span class="kn">import</span> <span class="n">builtin_import_registery</span> <span class="k">as</span> <span class="n">pyccel_builtin_import_registery</span>
<span class="kn">from</span> <span class="nn">pyccel.ast.utilities</span>  <span class="kn">import</span> <span class="n">decorators_mod</span>

<span class="kn">from</span> <span class="nn">pyccel.codegen.printing.codeprinter</span> <span class="kn">import</span> <span class="n">CodePrinter</span>

<span class="kn">from</span> <span class="nn">pyccel.errors.errors</span> <span class="kn">import</span> <span class="n">Errors</span>
<span class="kn">from</span> <span class="nn">pyccel.errors.messages</span> <span class="kn">import</span> <span class="n">PYCCEL_RESTRICTION_TODO</span>

<span class="n">errors</span> <span class="o">=</span> <span class="n">Errors</span><span class="p">()</span>

<span class="c1">#==============================================================================</span>

<span class="c1"># Dictionary mapping imported targets to their aliases used internally by pyccel</span>
<span class="c1"># This prevents a mismatch between printed imports and function calls</span>
<span class="c1"># The keys are modules from which the target is imported</span>
<span class="c1"># The values are a dictionary whose keys are object aliases and whose values</span>
<span class="c1"># are the names used in pyccel</span>
<span class="n">import_object_swap</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;numpy&#39;</span><span class="p">:</span> <span class="n">numpy_target_swap</span><span class="p">}</span>
<span class="n">import_target_swap</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;numpy&#39;</span> <span class="p">:</span> <span class="p">{</span><span class="s1">&#39;double&#39;</span>     <span class="p">:</span> <span class="s1">&#39;float64&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;prod&#39;</span>       <span class="p">:</span> <span class="s1">&#39;product&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;empty_like&#39;</span> <span class="p">:</span> <span class="s1">&#39;empty&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;zeros_like&#39;</span> <span class="p">:</span> <span class="s1">&#39;zeros&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;ones_like&#39;</span>  <span class="p">:</span> <span class="s1">&#39;ones&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;max&#39;</span>        <span class="p">:</span> <span class="s1">&#39;amax&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;min&#39;</span>        <span class="p">:</span> <span class="s1">&#39;amin&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;T&#39;</span>          <span class="p">:</span> <span class="s1">&#39;transpose&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;full_like&#39;</span>  <span class="p">:</span> <span class="s1">&#39;full&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;absolute&#39;</span>   <span class="p">:</span> <span class="s1">&#39;abs&#39;</span><span class="p">},</span>
        <span class="s1">&#39;numpy.random&#39;</span> <span class="p">:</span> <span class="p">{</span><span class="s1">&#39;random&#39;</span> <span class="p">:</span> <span class="s1">&#39;rand&#39;</span><span class="p">}</span>
        <span class="p">}</span>
<span class="n">import_source_swap</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;omp_lib&#39;</span> <span class="p">:</span> <span class="s1">&#39;pyccel.stdlib.internal.openmp&#39;</span>
        <span class="p">}</span>

<div class="viewcode-block" id="PythonCodePrinter"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter">[docs]</a><span class="k">class</span> <span class="nc">PythonCodePrinter</span><span class="p">(</span><span class="n">CodePrinter</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A printer to convert pyccel expressions to strings of Python code&quot;&quot;&quot;</span>
    <span class="n">printmethod</span> <span class="o">=</span> <span class="s2">&quot;_pycode&quot;</span>
    <span class="n">language</span> <span class="o">=</span> <span class="s2">&quot;python&quot;</span>

    <span class="n">_default_settings</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;tabwidth&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">):</span>
        <span class="n">errors</span><span class="o">.</span><span class="n">set_target</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;file&#39;</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_additional_imports</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_aliases</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ignore_funcs</span> <span class="o">=</span> <span class="p">[]</span>

<div class="viewcode-block" id="PythonCodePrinter._indent_codestring"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._indent_codestring">[docs]</a>    <span class="k">def</span> <span class="nf">_indent_codestring</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">lines</span><span class="p">):</span>
        <span class="n">tab</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">_default_settings</span><span class="p">[</span><span class="s1">&#39;tabwidth&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">lines</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">lines</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># lines ends with \n</span>
            <span class="k">return</span> <span class="n">tab</span><span class="o">+</span><span class="n">lines</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">+</span><span class="n">tab</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span></div>

<div class="viewcode-block" id="PythonCodePrinter._format_code"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._format_code">[docs]</a>    <span class="k">def</span> <span class="nf">_format_code</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">lines</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">lines</span></div>

<div class="viewcode-block" id="PythonCodePrinter.get_additional_imports"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter.get_additional_imports">[docs]</a>    <span class="k">def</span> <span class="nf">get_additional_imports</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;return the additional imports collected in printing stage&quot;&quot;&quot;</span>
        <span class="n">imports</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">tup</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_additional_imports</span><span class="o">.</span><span class="n">values</span><span class="p">()</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">tup</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>
        <span class="k">return</span> <span class="n">imports</span></div>

<div class="viewcode-block" id="PythonCodePrinter.insert_new_import"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter.insert_new_import">[docs]</a>    <span class="k">def</span> <span class="nf">insert_new_import</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">source</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="n">alias</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Add an import of an object which may have been</span>
<span class="sd">        added by pyccel and therefore may not have been imported</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">alias</span> <span class="ow">and</span> <span class="n">alias</span><span class="o">!=</span><span class="n">target</span><span class="p">:</span>
            <span class="n">target</span> <span class="o">=</span> <span class="n">AsName</span><span class="p">(</span><span class="n">target</span><span class="p">,</span> <span class="n">alias</span><span class="p">)</span>
        <span class="n">import_obj</span> <span class="o">=</span> <span class="n">Import</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">target</span><span class="p">)</span>
        <span class="n">source</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
        <span class="n">src_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_additional_imports</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="p">(</span><span class="nb">set</span><span class="p">(),</span> <span class="p">[]))</span>
        <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">i</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">src_info</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">import_obj</span><span class="o">.</span><span class="n">target</span><span class="p">):</span>
            <span class="n">src_info</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">import_obj</span><span class="o">.</span><span class="n">target</span><span class="p">)</span>
            <span class="n">src_info</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">import_obj</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._find_functional_expr_and_iterables"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._find_functional_expr_and_iterables">[docs]</a>    <span class="k">def</span> <span class="nf">_find_functional_expr_and_iterables</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Traverse through the loop representing a FunctionalFor or GeneratorComprehension</span>
<span class="sd">        to extract the central expression and the different iterable objects</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        expr : FunctionalFor</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        body      : PyccelAstNode</span>
<span class="sd">                    The expression inside the for loops</span>
<span class="sd">        iterables : list of Iterables</span>
<span class="sd">                    The iterables over which the for loops iterate</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">dummy_var</span> <span class="o">=</span> <span class="n">expr</span><span class="o">.</span><span class="n">index</span>
        <span class="n">iterables</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">body</span> <span class="o">=</span> <span class="n">expr</span><span class="o">.</span><span class="n">loops</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">while</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">body</span><span class="p">,</span> <span class="n">Assign</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">body</span><span class="p">,</span> <span class="n">CodeBlock</span><span class="p">):</span>
                <span class="n">body</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">body</span><span class="o">.</span><span class="n">body</span><span class="p">)</span>
                <span class="k">while</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">FunctionalFor</span><span class="p">):</span>
                    <span class="n">func_for</span> <span class="o">=</span> <span class="n">body</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
                    <span class="c1"># Replace the temporary assign value with the FunctionalFor expression</span>
                    <span class="c1"># so the loop is printed inline</span>
                    <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">body</span><span class="p">:</span>
                        <span class="n">b</span><span class="o">.</span><span class="n">substitute</span><span class="p">(</span><span class="n">func_for</span><span class="o">.</span><span class="n">lhs</span><span class="p">,</span> <span class="n">func_for</span><span class="p">)</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">body</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="c1"># Ensure all assigns assign to the dummy we are searching for and do not introduce unexpected variables</span>
                    <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="ow">not</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">Assign</span><span class="p">)</span> <span class="ow">and</span> <span class="n">b</span><span class="o">.</span><span class="n">lhs</span> <span class="ow">is</span> <span class="n">dummy_var</span><span class="p">)</span> <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">body</span><span class="p">[</span><span class="mi">1</span><span class="p">:]):</span>
                        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;Pyccel has introduced unnecessary statements which it cannot yet disambiguate in the python printer&quot;</span><span class="p">)</span>
                <span class="n">body</span> <span class="o">=</span> <span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">body</span><span class="p">,</span> <span class="n">For</span><span class="p">):</span>
                <span class="n">iterables</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">body</span><span class="o">.</span><span class="n">iterable</span><span class="p">)</span>
                <span class="n">body</span> <span class="o">=</span> <span class="n">body</span><span class="o">.</span><span class="n">body</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">body</span><span class="p">,</span> <span class="n">FunctionalFor</span><span class="p">):</span>
                <span class="n">body</span><span class="p">,</span> <span class="n">it</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_find_functional_expr_and_iterables</span><span class="p">(</span><span class="n">body</span><span class="p">)</span>
                <span class="n">iterables</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">it</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;Type </span><span class="si">{}</span><span class="s2"> not handled in a FunctionalFor&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">body</span><span class="p">)))</span>
        <span class="k">return</span> <span class="n">body</span><span class="p">,</span> <span class="n">iterables</span></div>

    <span class="c1">#----------------------------------------------------------------------</span>

<div class="viewcode-block" id="PythonCodePrinter._print_Header"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_Header">[docs]</a>    <span class="k">def</span> <span class="nf">_print_Header</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;&#39;</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_tuple"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_tuple">[docs]</a>    <span class="k">def</span> <span class="nf">_print_tuple</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">fs</span> <span class="o">=</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">expr</span><span class="p">)</span>
        <span class="k">return</span> <span class="s1">&#39;(</span><span class="si">{0}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fs</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_NativeBool"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_NativeBool">[docs]</a>    <span class="k">def</span> <span class="nf">_print_NativeBool</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;bool&#39;</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_NativeInteger"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_NativeInteger">[docs]</a>    <span class="k">def</span> <span class="nf">_print_NativeInteger</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;int&#39;</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_NativeFloat"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_NativeFloat">[docs]</a>    <span class="k">def</span> <span class="nf">_print_NativeFloat</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;float&#39;</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_NativeComplex"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_NativeComplex">[docs]</a>    <span class="k">def</span> <span class="nf">_print_NativeComplex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;complex&#39;</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_Variable"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_Variable">[docs]</a>    <span class="k">def</span> <span class="nf">_print_Variable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">name</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_FunctionDefArgument"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_FunctionDefArgument">[docs]</a>    <span class="k">def</span> <span class="nf">_print_FunctionDefArgument</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">expr</span><span class="o">.</span><span class="n">has_default</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">FunctionDef</span><span class="p">):</span>
                <span class="k">return</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> = </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">name</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> = </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">name</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">value</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">name</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_FunctionCallArgument"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_FunctionCallArgument">[docs]</a>    <span class="k">def</span> <span class="nf">_print_FunctionCallArgument</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">expr</span><span class="o">.</span><span class="n">keyword</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> = </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">keyword</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">value</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_Idx"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_Idx">[docs]</a>    <span class="k">def</span> <span class="nf">_print_Idx</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">name</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_IndexedElement"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_IndexedElement">[docs]</a>    <span class="k">def</span> <span class="nf">_print_IndexedElement</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">indices</span> <span class="o">=</span> <span class="n">expr</span><span class="o">.</span><span class="n">indices</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">indices</span><span class="p">,</span> <span class="p">(</span><span class="nb">tuple</span><span class="p">,</span> <span class="nb">list</span><span class="p">)):</span>
            <span class="c1"># this a fix since when having a[i,j] the generated code is a[(i,j)]</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">indices</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">indices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="p">(</span><span class="nb">tuple</span><span class="p">,</span> <span class="nb">list</span><span class="p">)):</span>
                <span class="n">indices</span> <span class="o">=</span> <span class="n">indices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

            <span class="n">indices</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">indices</span><span class="p">]</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">base</span><span class="p">,</span> <span class="n">HomogeneousTupleVariable</span><span class="p">):</span>
                <span class="n">indices</span> <span class="o">=</span> <span class="s1">&#39;][&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">indices</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">indices</span> <span class="o">=</span> <span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">indices</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">errors</span><span class="o">.</span><span class="n">report</span><span class="p">(</span><span class="n">PYCCEL_RESTRICTION_TODO</span><span class="p">,</span> <span class="n">symbol</span><span class="o">=</span><span class="n">expr</span><span class="p">,</span>
                <span class="n">severity</span><span class="o">=</span><span class="s1">&#39;fatal&#39;</span><span class="p">)</span>

        <span class="n">base</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">base</span><span class="p">)</span>
        <span class="k">return</span> <span class="s1">&#39;</span><span class="si">{base}</span><span class="s1">[</span><span class="si">{indices}</span><span class="s1">]&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">base</span><span class="o">=</span><span class="n">base</span><span class="p">,</span> <span class="n">indices</span><span class="o">=</span><span class="n">indices</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_Interface"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_Interface">[docs]</a>    <span class="k">def</span> <span class="nf">_print_Interface</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="c1"># TODO: Improve. See #885</span>
        <span class="n">func</span> <span class="o">=</span> <span class="n">expr</span><span class="o">.</span><span class="n">functions</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">FunctionAddress</span><span class="p">):</span>
            <span class="n">func</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">func</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_FunctionDef"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_FunctionDef">[docs]</a>    <span class="k">def</span> <span class="nf">_print_FunctionDef</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_scope</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">scope</span><span class="p">)</span>
        <span class="n">name</span>       <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">imports</span>    <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">expr</span><span class="o">.</span><span class="n">imports</span><span class="p">)</span>
        <span class="n">interfaces</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">expr</span><span class="o">.</span><span class="n">interfaces</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">i</span><span class="o">.</span><span class="n">is_argument</span><span class="p">)</span>
        <span class="n">functions</span>  <span class="o">=</span> <span class="p">[</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">expr</span><span class="o">.</span><span class="n">functions</span> <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">(</span><span class="n">f</span> <span class="ow">in</span> <span class="n">i</span><span class="o">.</span><span class="n">functions</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">expr</span><span class="o">.</span><span class="n">interfaces</span><span class="p">)]</span>
        <span class="n">functions</span>  <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">functions</span><span class="p">)</span>
        <span class="n">body</span>    <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">body</span><span class="p">)</span>
        <span class="n">body</span>    <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_indent_codestring</span><span class="p">(</span><span class="n">body</span><span class="p">)</span>
        <span class="n">args</span>    <span class="o">=</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">expr</span><span class="o">.</span><span class="n">arguments</span><span class="p">)</span>

        <span class="n">imports</span>    <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_indent_codestring</span><span class="p">(</span><span class="n">imports</span><span class="p">)</span>
        <span class="n">functions</span>  <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_indent_codestring</span><span class="p">(</span><span class="n">functions</span><span class="p">)</span>
        <span class="n">interfaces</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_indent_codestring</span><span class="p">(</span><span class="n">interfaces</span><span class="p">)</span>

        <span class="n">doc_string</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">doc_string</span><span class="p">)</span> <span class="k">if</span> <span class="n">expr</span><span class="o">.</span><span class="n">doc_string</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span>
        <span class="n">doc_string</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_indent_codestring</span><span class="p">(</span><span class="n">doc_string</span><span class="p">)</span>

        <span class="n">body</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">doc_string</span><span class="p">,</span> <span class="n">functions</span><span class="p">,</span> <span class="n">interfaces</span><span class="p">,</span> <span class="n">imports</span><span class="p">,</span> <span class="n">body</span><span class="p">])</span>

        <span class="n">code</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;def </span><span class="si">{name}</span><span class="s1">(</span><span class="si">{args}</span><span class="s1">):</span><span class="se">\n</span><span class="s1">&#39;</span>
                <span class="s1">&#39;</span><span class="si">{body}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                        <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
                        <span class="n">args</span><span class="o">=</span><span class="n">args</span><span class="p">,</span>
                        <span class="n">body</span><span class="o">=</span><span class="n">body</span><span class="p">)</span>
        <span class="n">decorators</span> <span class="o">=</span> <span class="n">expr</span><span class="o">.</span><span class="n">decorators</span>
        <span class="k">if</span> <span class="n">decorators</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">decorators</span><span class="p">[</span><span class="s1">&#39;template&#39;</span><span class="p">]:</span>
                <span class="c1"># Eliminate template_dict because it is useless in the printing</span>
                <span class="n">expr</span><span class="o">.</span><span class="n">decorators</span><span class="p">[</span><span class="s1">&#39;template&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">expr</span><span class="o">.</span><span class="n">decorators</span><span class="p">[</span><span class="s1">&#39;template&#39;</span><span class="p">][</span><span class="s1">&#39;decorator_list&#39;</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">expr</span><span class="o">.</span><span class="n">decorators</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;template&#39;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">n</span><span class="p">,</span><span class="n">f</span> <span class="ow">in</span> <span class="n">decorators</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">pyccel_decorators</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">insert_new_import</span><span class="p">(</span><span class="n">DottedName</span><span class="p">(</span><span class="s1">&#39;pyccel.decorators&#39;</span><span class="p">),</span> <span class="n">AsName</span><span class="p">(</span><span class="n">decorators_mod</span><span class="p">[</span><span class="n">n</span><span class="p">],</span> <span class="n">n</span><span class="p">))</span>
                <span class="c1"># TODO - All decorators must be stored in a list</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
                    <span class="n">f</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span><span class="p">]</span>
                <span class="n">dec</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
                <span class="k">for</span> <span class="n">func</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">FunctionCall</span><span class="p">):</span>
                        <span class="n">args</span> <span class="o">=</span> <span class="n">func</span><span class="o">.</span><span class="n">args</span>
                    <span class="k">elif</span> <span class="n">func</span> <span class="o">==</span> <span class="n">n</span><span class="p">:</span>
                        <span class="n">args</span> <span class="o">=</span> <span class="p">[]</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">args</span> <span class="o">=</span> <span class="p">[</span><span class="n">LiteralString</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">func</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="s1">&#39;types&#39;</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
                        <span class="k">continue</span>
                    <span class="k">if</span> <span class="n">args</span><span class="p">:</span>
                        <span class="n">args</span> <span class="o">=</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">args</span><span class="p">)</span>
                        <span class="n">dec</span> <span class="o">+=</span> <span class="s1">&#39;@</span><span class="si">{name}</span><span class="s1">(</span><span class="si">{args}</span><span class="s1">)</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">n</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="n">args</span><span class="p">)</span>

                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">dec</span> <span class="o">+=</span> <span class="s1">&#39;@</span><span class="si">{name}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">n</span><span class="p">)</span>

                <span class="n">code</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{dec}{code}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">dec</span><span class="o">=</span><span class="n">dec</span><span class="p">,</span> <span class="n">code</span><span class="o">=</span><span class="n">code</span><span class="p">)</span>
        <span class="n">headers</span> <span class="o">=</span> <span class="n">expr</span><span class="o">.</span><span class="n">headers</span>
        <span class="k">if</span> <span class="n">headers</span><span class="p">:</span>
            <span class="n">headers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">headers</span><span class="p">)</span>
            <span class="n">code</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{header}</span><span class="se">\n</span><span class="si">{code}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">header</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">code</span><span class="o">=</span><span class="n">code</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">exit_scope</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">code</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_FunctionAddress"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_FunctionAddress">[docs]</a>    <span class="k">def</span> <span class="nf">_print_FunctionAddress</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">expr</span><span class="o">.</span><span class="n">name</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_Return"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_Return">[docs]</a>    <span class="k">def</span> <span class="nf">_print_Return</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>

        <span class="k">if</span> <span class="n">expr</span><span class="o">.</span><span class="n">stmt</span><span class="p">:</span>
            <span class="n">assigns</span> <span class="o">=</span> <span class="p">{</span><span class="n">i</span><span class="o">.</span><span class="n">lhs</span><span class="p">:</span> <span class="n">i</span><span class="o">.</span><span class="n">rhs</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">expr</span><span class="o">.</span><span class="n">stmt</span><span class="o">.</span><span class="n">body</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">Assign</span><span class="p">)}</span>
            <span class="n">prelude</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">expr</span><span class="o">.</span><span class="n">stmt</span><span class="o">.</span><span class="n">body</span> <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">Assign</span><span class="p">)])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">assigns</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">prelude</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="n">expr_return_vars</span> <span class="o">=</span> <span class="p">[</span><span class="n">assigns</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">a</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">expr</span><span class="o">.</span><span class="n">expr</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">prelude</span><span class="o">+</span><span class="s1">&#39;return </span><span class="si">{}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">expr_return_vars</span><span class="p">))</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_Program"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_Program">[docs]</a>    <span class="k">def</span> <span class="nf">_print_Program</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">mod_scope</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scope</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_scope</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">scope</span><span class="p">)</span>
        <span class="n">imports</span>  <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">expr</span><span class="o">.</span><span class="n">imports</span><span class="p">)</span>
        <span class="n">body</span>     <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">body</span><span class="p">)</span>
        <span class="n">imports</span> <span class="o">+=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_additional_imports</span><span class="p">())</span>

        <span class="n">body</span> <span class="o">=</span> <span class="n">imports</span><span class="o">+</span><span class="n">body</span>
        <span class="n">body</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_indent_codestring</span><span class="p">(</span><span class="n">body</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">exit_scope</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">mod_scope</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_scope</span><span class="p">(</span><span class="n">mod_scope</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="s1">&#39;if __name__ == &quot;__main__&quot;:</span><span class="se">\n</span><span class="s1">&#39;</span>
                <span class="s1">&#39;</span><span class="si">{body}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">body</span><span class="o">=</span><span class="n">body</span><span class="p">)</span></div>


<div class="viewcode-block" id="PythonCodePrinter._print_AsName"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_AsName">[docs]</a>    <span class="k">def</span> <span class="nf">_print_AsName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">target</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">target</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="n">target</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">name</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;</span><span class="si">{name}</span><span class="s1"> as </span><span class="si">{target}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span><span class="p">,</span> <span class="n">target</span> <span class="o">=</span> <span class="n">target</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_PythonTuple"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_PythonTuple">[docs]</a>    <span class="k">def</span> <span class="nf">_print_PythonTuple</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">args</span> <span class="o">=</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">expr</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">args</span> <span class="o">+=</span> <span class="s1">&#39;,&#39;</span>
        <span class="k">return</span> <span class="s1">&#39;(&#39;</span><span class="o">+</span><span class="n">args</span><span class="o">+</span><span class="s1">&#39;)&#39;</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_PythonList"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_PythonList">[docs]</a>    <span class="k">def</span> <span class="nf">_print_PythonList</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">args</span> <span class="o">=</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">expr</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>
        <span class="k">return</span> <span class="s1">&#39;[&#39;</span><span class="o">+</span><span class="n">args</span><span class="o">+</span><span class="s1">&#39;]&#39;</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_PythonBool"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_PythonBool">[docs]</a>    <span class="k">def</span> <span class="nf">_print_PythonBool</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;bool(</span><span class="si">{}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">arg</span><span class="p">))</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_PythonInt"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_PythonInt">[docs]</a>    <span class="k">def</span> <span class="nf">_print_PythonInt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;int&#39;</span>
        <span class="k">if</span> <span class="n">expr</span><span class="o">.</span><span class="n">precision</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="n">type_name</span> <span class="o">=</span> <span class="n">name</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">precision</span><span class="o">*</span><span class="mi">8</span><span class="p">)</span>
            <span class="bp">cls</span>       <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">expr</span><span class="p">)</span>
            <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_aliases</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">type_name</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="n">type_name</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">insert_new_import</span><span class="p">(</span>
                        <span class="n">source</span> <span class="o">=</span> <span class="s1">&#39;numpy&#39;</span><span class="p">,</span>
                        <span class="n">target</span> <span class="o">=</span> <span class="n">AsName</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">))</span>
        <span class="k">return</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">(</span><span class="si">{}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">arg</span><span class="p">))</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_PythonFloat"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_PythonFloat">[docs]</a>    <span class="k">def</span> <span class="nf">_print_PythonFloat</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;float&#39;</span>
        <span class="k">if</span> <span class="n">expr</span><span class="o">.</span><span class="n">precision</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="n">type_name</span> <span class="o">=</span> <span class="n">name</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">precision</span><span class="o">*</span><span class="mi">8</span><span class="p">)</span>
            <span class="bp">cls</span>       <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">expr</span><span class="p">)</span>
            <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_aliases</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">type_name</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="n">type_name</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">insert_new_import</span><span class="p">(</span>
                        <span class="n">source</span> <span class="o">=</span> <span class="s1">&#39;numpy&#39;</span><span class="p">,</span>
                        <span class="n">target</span> <span class="o">=</span> <span class="n">AsName</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">))</span>
        <span class="k">return</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">(</span><span class="si">{}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">arg</span><span class="p">))</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_PythonComplex"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_PythonComplex">[docs]</a>    <span class="k">def</span> <span class="nf">_print_PythonComplex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_aliases</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">expr</span><span class="p">),</span> <span class="n">expr</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">expr</span><span class="o">.</span><span class="n">is_cast</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">(</span><span class="si">{}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">internal_var</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">(</span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">real</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">imag</span><span class="p">))</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_NumpyComplex"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_NumpyComplex">[docs]</a>    <span class="k">def</span> <span class="nf">_print_NumpyComplex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">expr</span><span class="o">.</span><span class="n">precision</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="bp">cls</span>       <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">expr</span><span class="p">)</span>
            <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_aliases</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">expr</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="n">expr</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">insert_new_import</span><span class="p">(</span>
                        <span class="n">source</span> <span class="o">=</span> <span class="s1">&#39;numpy&#39;</span><span class="p">,</span>
                        <span class="n">target</span> <span class="o">=</span> <span class="n">AsName</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">expr</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;complex&#39;</span>
        <span class="k">if</span> <span class="n">expr</span><span class="o">.</span><span class="n">is_cast</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">(</span><span class="si">{}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">internal_var</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">(</span><span class="si">{}</span><span class="s1">+</span><span class="si">{}</span><span class="s1">*1j)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">real</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">imag</span><span class="p">))</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_Iterable"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_Iterable">[docs]</a>    <span class="k">def</span> <span class="nf">_print_Iterable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">iterable</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">_print_PythonRange</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;range(</span><span class="si">{start}</span><span class="s1">, </span><span class="si">{stop}</span><span class="s1">, </span><span class="si">{step}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">start</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">start</span><span class="p">),</span>
                <span class="n">stop</span>  <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">stop</span> <span class="p">),</span>
                <span class="n">step</span>  <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">step</span> <span class="p">))</span>

<div class="viewcode-block" id="PythonCodePrinter._print_PythonEnumerate"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_PythonEnumerate">[docs]</a>    <span class="k">def</span> <span class="nf">_print_PythonEnumerate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">expr</span><span class="o">.</span><span class="n">start</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;enumerate(</span><span class="si">{elem}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="n">elem</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">element</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;enumerate(</span><span class="si">{elem}</span><span class="s1">,</span><span class="si">{start}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="n">elem</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">element</span><span class="p">),</span>
                    <span class="n">start</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">start</span><span class="p">))</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_PythonMap"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_PythonMap">[docs]</a>    <span class="k">def</span> <span class="nf">_print_PythonMap</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;map(</span><span class="si">{func}</span><span class="s1">, </span><span class="si">{args}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">func</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">func</span><span class="o">.</span><span class="n">name</span><span class="p">),</span>
                <span class="n">args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">func_args</span><span class="p">))</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_PythonReal"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_PythonReal">[docs]</a>    <span class="k">def</span> <span class="nf">_print_PythonReal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;(</span><span class="si">{}</span><span class="s1">).real&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">internal_var</span><span class="p">))</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_PythonImag"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_PythonImag">[docs]</a>    <span class="k">def</span> <span class="nf">_print_PythonImag</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;(</span><span class="si">{}</span><span class="s1">).imag&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">internal_var</span><span class="p">))</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_PythonConjugate"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_PythonConjugate">[docs]</a>    <span class="k">def</span> <span class="nf">_print_PythonConjugate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;(</span><span class="si">{}</span><span class="s1">).conjugate()&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">internal_var</span><span class="p">))</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_PythonPrint"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_PythonPrint">[docs]</a>    <span class="k">def</span> <span class="nf">_print_PythonPrint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;print(</span><span class="si">{}</span><span class="s1">)</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">expr</span><span class="o">.</span><span class="n">expr</span><span class="p">))</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_PyccelArraySize"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_PyccelArraySize">[docs]</a>    <span class="k">def</span> <span class="nf">_print_PyccelArraySize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">arg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">arg</span><span class="p">)</span>
        <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
        <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_aliases</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">NumpyShape</span><span class="p">,</span> <span class="n">expr</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="n">expr</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">insert_new_import</span><span class="p">(</span>
                    <span class="n">source</span> <span class="o">=</span> <span class="s1">&#39;numpy&#39;</span><span class="p">,</span>
                    <span class="n">target</span> <span class="o">=</span> <span class="n">AsName</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">expr</span><span class="p">),</span><span class="n">expr</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>
        <span class="k">return</span> <span class="s1">&#39;</span><span class="si">{0}</span><span class="s1">(</span><span class="si">{1}</span><span class="s1">)[</span><span class="si">{2}</span><span class="s1">]&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">arg</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_Comment"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_Comment">[docs]</a>    <span class="k">def</span> <span class="nf">_print_Comment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">txt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
        <span class="k">return</span> <span class="s1">&#39;# </span><span class="si">{0}</span><span class="s1"> </span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_CommentBlock"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_CommentBlock">[docs]</a>    <span class="k">def</span> <span class="nf">_print_CommentBlock</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">txt</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">expr</span><span class="o">.</span><span class="n">comments</span><span class="p">)</span>
        <span class="k">return</span> <span class="s1">&#39;&quot;&quot;&quot;</span><span class="si">{0}</span><span class="s1">&quot;&quot;&quot;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_Assert"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_Assert">[docs]</a>    <span class="k">def</span> <span class="nf">_print_Assert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">condition</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">test</span><span class="p">)</span>
        <span class="k">return</span> <span class="s2">&quot;assert </span><span class="si">{0}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">condition</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_EmptyNode"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_EmptyNode">[docs]</a>    <span class="k">def</span> <span class="nf">_print_EmptyNode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;&#39;</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_DottedName"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_DottedName">[docs]</a>    <span class="k">def</span> <span class="nf">_print_DottedName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;.&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">expr</span><span class="o">.</span><span class="n">name</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_FunctionCall"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_FunctionCall">[docs]</a>    <span class="k">def</span> <span class="nf">_print_FunctionCall</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">expr</span><span class="o">.</span><span class="n">funcdef</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ignore_funcs</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;&#39;</span>
        <span class="k">if</span> <span class="n">expr</span><span class="o">.</span><span class="n">interface</span><span class="p">:</span>
            <span class="n">func_name</span> <span class="o">=</span> <span class="n">expr</span><span class="o">.</span><span class="n">interface_name</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">func_name</span> <span class="o">=</span> <span class="n">expr</span><span class="o">.</span><span class="n">funcdef</span><span class="o">.</span><span class="n">name</span>
        <span class="n">args</span> <span class="o">=</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">expr</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>
        <span class="n">code</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{func}</span><span class="s1">(</span><span class="si">{args}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">func</span><span class="o">=</span><span class="n">func_name</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="n">args</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">expr</span><span class="o">.</span><span class="n">funcdef</span><span class="o">.</span><span class="n">results</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">code</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">code</span><span class="o">+</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_Import"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_Import">[docs]</a>    <span class="k">def</span> <span class="nf">_print_Import</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">mod</span> <span class="o">=</span> <span class="n">expr</span><span class="o">.</span><span class="n">source_module</span>
        <span class="n">init_func_name</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="n">free_func_name</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="k">if</span> <span class="n">mod</span><span class="p">:</span>
            <span class="n">init_func</span> <span class="o">=</span> <span class="n">mod</span><span class="o">.</span><span class="n">init_func</span>
            <span class="k">if</span> <span class="n">init_func</span><span class="p">:</span>
                <span class="n">init_func_name</span> <span class="o">=</span> <span class="n">init_func</span><span class="o">.</span><span class="n">name</span>
            <span class="n">free_func</span> <span class="o">=</span> <span class="n">mod</span><span class="o">.</span><span class="n">free_func</span>
            <span class="k">if</span> <span class="n">free_func</span><span class="p">:</span>
                <span class="n">free_func_name</span> <span class="o">=</span> <span class="n">free_func</span><span class="o">.</span><span class="n">name</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">source</span><span class="p">,</span> <span class="n">AsName</span><span class="p">):</span>
            <span class="n">source</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">source</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">source</span><span class="p">)</span>

        <span class="n">source</span> <span class="o">=</span> <span class="n">import_source_swap</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">source</span><span class="p">)</span>

        <span class="n">target</span> <span class="o">=</span> <span class="p">[</span><span class="n">t</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">expr</span><span class="o">.</span><span class="n">target</span> <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">object</span><span class="p">,</span> <span class="n">Module</span><span class="p">)]</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">target</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;import </span><span class="si">{source}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="n">source</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">source</span> <span class="ow">in</span> <span class="n">import_object_swap</span><span class="p">:</span>
                <span class="n">target</span> <span class="o">=</span> <span class="p">[</span><span class="n">AsName</span><span class="p">(</span><span class="n">import_object_swap</span><span class="p">[</span><span class="n">source</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">object</span><span class="p">,</span><span class="n">i</span><span class="o">.</span><span class="n">object</span><span class="p">),</span> <span class="n">i</span><span class="o">.</span><span class="n">target</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">target</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">source</span> <span class="ow">in</span> <span class="n">import_target_swap</span><span class="p">:</span>
                <span class="c1"># If the source contains multiple names which reference the same object</span>
                <span class="c1"># check if the target is referred to by another name in pyccel.</span>
                <span class="c1"># Print the name used by pyccel (either the value from import_target_swap</span>
                <span class="c1"># or the original name from the import</span>
                <span class="n">target</span> <span class="o">=</span> <span class="p">[</span><span class="n">AsName</span><span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">object</span><span class="p">,</span> <span class="n">import_target_swap</span><span class="p">[</span><span class="n">source</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">target</span><span class="p">,</span><span class="n">i</span><span class="o">.</span><span class="n">target</span><span class="p">))</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">target</span><span class="p">]</span>

            <span class="n">target</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">target</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">source</span> <span class="ow">in</span> <span class="n">pyccel_builtin_import_registery</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_aliases</span><span class="o">.</span><span class="n">update</span><span class="p">([(</span><span class="n">pyccel_builtin_import_registery</span><span class="p">[</span><span class="n">source</span><span class="p">][</span><span class="n">t</span><span class="o">.</span><span class="n">name</span><span class="p">]</span><span class="o">.</span><span class="n">cls_name</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">target</span><span class="p">)</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">target</span> <span class="k">if</span> <span class="n">t</span><span class="o">.</span><span class="n">name</span> <span class="o">!=</span> <span class="n">t</span><span class="o">.</span><span class="n">target</span><span class="p">])</span>

            <span class="k">if</span> <span class="n">expr</span><span class="o">.</span><span class="n">source_module</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">expr</span><span class="o">.</span><span class="n">source_module</span><span class="o">.</span><span class="n">init_func</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_ignore_funcs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">source_module</span><span class="o">.</span><span class="n">init_func</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">expr</span><span class="o">.</span><span class="n">source_module</span><span class="o">.</span><span class="n">free_func</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_ignore_funcs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">source_module</span><span class="o">.</span><span class="n">free_func</span><span class="p">)</span>
            <span class="n">target</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">target</span> <span class="k">if</span> <span class="n">t</span><span class="o">.</span><span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="n">init_func_name</span><span class="p">,</span> <span class="n">free_func_name</span><span class="p">)]</span>
            <span class="n">target</span> <span class="o">=</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
            <span class="k">return</span> <span class="s1">&#39;from </span><span class="si">{source}</span><span class="s1"> import </span><span class="si">{target}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="n">source</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="n">target</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_CodeBlock"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_CodeBlock">[docs]</a>    <span class="k">def</span> <span class="nf">_print_CodeBlock</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">body</span><span class="p">)</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;pass</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">code</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">expr</span><span class="o">.</span><span class="n">body</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">code</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_For"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_For">[docs]</a>    <span class="k">def</span> <span class="nf">_print_For</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_scope</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">scope</span><span class="p">)</span>
        <span class="n">iterable</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">iterable</span><span class="p">)</span>
        <span class="n">target</span>   <span class="o">=</span> <span class="n">expr</span><span class="o">.</span><span class="n">target</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">target</span><span class="p">,(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
            <span class="n">target</span> <span class="o">=</span> <span class="p">[</span><span class="n">target</span><span class="p">]</span>
        <span class="n">target</span> <span class="o">=</span> <span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">target</span><span class="p">)</span>
        <span class="n">body</span>   <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">body</span><span class="p">)</span>
        <span class="n">body</span>   <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_indent_codestring</span><span class="p">(</span><span class="n">body</span><span class="p">)</span>
        <span class="n">code</span>   <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;for </span><span class="si">{0}</span><span class="s1"> in </span><span class="si">{1}</span><span class="s1">:</span><span class="se">\n</span><span class="s1">&#39;</span>
                <span class="s1">&#39;</span><span class="si">{2}</span><span class="s1">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">target</span><span class="p">,</span><span class="n">iterable</span><span class="p">,</span><span class="n">body</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">exit_scope</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">code</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_FunctionalFor"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_FunctionalFor">[docs]</a>    <span class="k">def</span> <span class="nf">_print_FunctionalFor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">body</span><span class="p">,</span> <span class="n">iterators</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_find_functional_expr_and_iterables</span><span class="p">(</span><span class="n">expr</span><span class="p">)</span>
        <span class="n">lhs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">lhs</span><span class="p">)</span>
        <span class="n">body</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">body</span><span class="o">.</span><span class="n">rhs</span><span class="p">)</span>
        <span class="n">for_loops</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s1">&#39;for </span><span class="si">{}</span><span class="s1"> in </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">idx</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">iters</span><span class="p">))</span>
                        <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">iters</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">indices</span><span class="p">,</span> <span class="n">iterators</span><span class="p">)])</span>

        <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_aliases</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">expr</span><span class="p">),</span><span class="s1">&#39;array&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;array&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">insert_new_import</span><span class="p">(</span>
                    <span class="n">source</span> <span class="o">=</span> <span class="s1">&#39;numpy&#39;</span><span class="p">,</span>
                    <span class="n">target</span> <span class="o">=</span> <span class="n">AsName</span><span class="p">(</span><span class="n">NumpyArray</span><span class="p">,</span> <span class="s1">&#39;array&#39;</span><span class="p">))</span>

        <span class="k">return</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> = </span><span class="si">{}</span><span class="s1">([</span><span class="si">{}</span><span class="s1"> </span><span class="si">{}</span><span class="s1">])</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">lhs</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">for_loops</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_GeneratorComprehension"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_GeneratorComprehension">[docs]</a>    <span class="k">def</span> <span class="nf">_print_GeneratorComprehension</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">body</span><span class="p">,</span> <span class="n">iterators</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_find_functional_expr_and_iterables</span><span class="p">(</span><span class="n">expr</span><span class="p">)</span>

        <span class="n">rhs</span> <span class="o">=</span> <span class="n">body</span><span class="o">.</span><span class="n">rhs</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">rhs</span><span class="p">,</span> <span class="p">(</span><span class="n">PythonMax</span><span class="p">,</span> <span class="n">PythonMin</span><span class="p">)):</span>
            <span class="n">args</span> <span class="o">=</span> <span class="n">rhs</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">body</span><span class="o">.</span><span class="n">lhs</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
                <span class="n">args</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">args</span> <span class="k">if</span> <span class="n">a</span> <span class="o">!=</span> <span class="n">body</span><span class="o">.</span><span class="n">lhs</span><span class="p">]</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
                    <span class="n">rhs</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">rhs</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">body</span><span class="o">.</span><span class="n">rhs</span><span class="p">)(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>

        <span class="n">body</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">rhs</span><span class="p">)</span>
        <span class="n">for_loops</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s1">&#39;for </span><span class="si">{}</span><span class="s1"> in </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">idx</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">iters</span><span class="p">))</span>
                        <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">iters</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">indices</span><span class="p">,</span> <span class="n">iterators</span><span class="p">)])</span>

        <span class="k">if</span> <span class="n">expr</span><span class="o">.</span><span class="n">get_user_nodes</span><span class="p">(</span><span class="n">FunctionalFor</span><span class="p">):</span>
            <span class="k">return</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">(</span><span class="si">{}</span><span class="s1"> </span><span class="si">{}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">for_loops</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">lhs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">lhs</span><span class="p">)</span>
            <span class="k">return</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> = </span><span class="si">{}</span><span class="s1">(</span><span class="si">{}</span><span class="s1"> </span><span class="si">{}</span><span class="s1">)</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">lhs</span><span class="p">,</span> <span class="n">expr</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">for_loops</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_While"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_While">[docs]</a>    <span class="k">def</span> <span class="nf">_print_While</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">cond</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">test</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_scope</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">scope</span><span class="p">)</span>
        <span class="n">body</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_indent_codestring</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">body</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">exit_scope</span><span class="p">()</span>
        <span class="k">return</span> <span class="s1">&#39;while </span><span class="si">{cond}</span><span class="s1">:</span><span class="se">\n</span><span class="si">{body}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">cond</span> <span class="o">=</span> <span class="n">cond</span><span class="p">,</span>
                <span class="n">body</span> <span class="o">=</span> <span class="n">body</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_Break"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_Break">[docs]</a>    <span class="k">def</span> <span class="nf">_print_Break</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;break</span><span class="se">\n</span><span class="s1">&#39;</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_Continue"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_Continue">[docs]</a>    <span class="k">def</span> <span class="nf">_print_Continue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;continue</span><span class="se">\n</span><span class="s1">&#39;</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_Assign"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_Assign">[docs]</a>    <span class="k">def</span> <span class="nf">_print_Assign</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">lhs</span> <span class="o">=</span> <span class="n">expr</span><span class="o">.</span><span class="n">lhs</span>
        <span class="n">rhs</span> <span class="o">=</span> <span class="n">expr</span><span class="o">.</span><span class="n">rhs</span>

        <span class="n">lhs_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">lhs</span><span class="p">)</span>
        <span class="n">rhs_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">rhs</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">rhs</span><span class="p">,</span> <span class="n">Variable</span><span class="p">)</span> <span class="ow">and</span> <span class="n">lhs</span><span class="o">.</span><span class="n">rank</span><span class="o">&gt;</span><span class="mi">1</span> <span class="ow">and</span> <span class="n">rhs</span><span class="o">.</span><span class="n">order</span> <span class="o">!=</span> <span class="n">lhs</span><span class="o">.</span><span class="n">order</span><span class="p">:</span>
            <span class="k">return</span><span class="s1">&#39;</span><span class="si">{0}</span><span class="s1"> = </span><span class="si">{1}</span><span class="s1">.T</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">lhs_code</span><span class="p">,</span><span class="n">rhs_code</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span><span class="s1">&#39;</span><span class="si">{0}</span><span class="s1"> = </span><span class="si">{1}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">lhs_code</span><span class="p">,</span><span class="n">rhs_code</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_AliasAssign"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_AliasAssign">[docs]</a>    <span class="k">def</span> <span class="nf">_print_AliasAssign</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">lhs</span> <span class="o">=</span> <span class="n">expr</span><span class="o">.</span><span class="n">lhs</span>
        <span class="n">rhs</span> <span class="o">=</span> <span class="n">expr</span><span class="o">.</span><span class="n">rhs</span>

        <span class="n">lhs_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">lhs</span><span class="p">)</span>
        <span class="n">rhs_code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">rhs</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">rhs</span><span class="p">,</span> <span class="n">Variable</span><span class="p">)</span> <span class="ow">and</span> <span class="n">rhs</span><span class="o">.</span><span class="n">order</span><span class="o">!=</span> <span class="n">lhs</span><span class="o">.</span><span class="n">order</span><span class="p">:</span>
            <span class="k">return</span><span class="s1">&#39;</span><span class="si">{0}</span><span class="s1"> = </span><span class="si">{1}</span><span class="s1">.T</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">lhs_code</span><span class="p">,</span><span class="n">rhs_code</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span><span class="s1">&#39;</span><span class="si">{0}</span><span class="s1"> = </span><span class="si">{1}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">lhs_code</span><span class="p">,</span><span class="n">rhs_code</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_AugAssign"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_AugAssign">[docs]</a>    <span class="k">def</span> <span class="nf">_print_AugAssign</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">lhs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">lhs</span><span class="p">)</span>
        <span class="n">rhs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">rhs</span><span class="p">)</span>
        <span class="n">op</span>  <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">op</span><span class="p">)</span>
        <span class="k">return</span><span class="s1">&#39;</span><span class="si">{0}</span><span class="s1"> </span><span class="si">{1}</span><span class="s1">= </span><span class="si">{2}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">lhs</span><span class="p">,</span><span class="n">op</span><span class="p">,</span><span class="n">rhs</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_PythonRange"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_PythonRange">[docs]</a>    <span class="k">def</span> <span class="nf">_print_PythonRange</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_aliases</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">expr</span><span class="p">),</span> <span class="n">expr</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">start</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">start</span><span class="p">)</span>
        <span class="n">stop</span>  <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">stop</span><span class="p">)</span>
        <span class="n">step</span>  <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">step</span><span class="p">)</span>
        <span class="k">return</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">(</span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">, </span><span class="si">{}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="n">start</span><span class="p">,</span><span class="n">stop</span><span class="p">,</span><span class="n">step</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_Allocate"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_Allocate">[docs]</a>    <span class="k">def</span> <span class="nf">_print_Allocate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;&#39;</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_Deallocate"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_Deallocate">[docs]</a>    <span class="k">def</span> <span class="nf">_print_Deallocate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;&#39;</span></div>

    <span class="k">def</span> <span class="nf">_print_NumpyArray</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">dtype</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">expr</span><span class="o">.</span><span class="n">precision</span> <span class="o">!=</span> <span class="n">default_precision</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">dtype</span><span class="p">)]:</span>
            <span class="n">factor</span> <span class="o">=</span> <span class="mi">16</span> <span class="k">if</span> <span class="n">dtype</span> <span class="o">==</span> <span class="s1">&#39;complex&#39;</span> <span class="k">else</span> <span class="mi">8</span>
            <span class="n">dtype</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">precision</span><span class="o">*</span><span class="n">factor</span><span class="p">)</span>

        <span class="n">name</span>  <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_aliases</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">expr</span><span class="p">),</span> <span class="n">expr</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">arg</span>   <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">arg</span><span class="p">)</span>
        <span class="n">dtype</span> <span class="o">=</span> <span class="s2">&quot;dtype=</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">dtype</span><span class="p">)</span>
        <span class="n">order</span> <span class="o">=</span> <span class="s2">&quot;order=&#39;</span><span class="si">{}</span><span class="s2">&#39;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">order</span><span class="p">)</span> <span class="k">if</span> <span class="n">expr</span><span class="o">.</span><span class="n">order</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span>
        <span class="n">args</span>  <span class="o">=</span> <span class="p">[</span><span class="n">arg</span><span class="p">,</span> <span class="n">dtype</span><span class="p">,</span> <span class="n">order</span><span class="p">]</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">{name}</span><span class="s2">(</span><span class="si">{args}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">name</span>  <span class="o">=</span> <span class="n">name</span><span class="p">,</span>
                <span class="n">args</span>  <span class="o">=</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">a</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">args</span> <span class="k">if</span> <span class="n">a</span><span class="p">))</span>

<div class="viewcode-block" id="PythonCodePrinter._print_NumpyAutoFill"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_NumpyAutoFill">[docs]</a>    <span class="k">def</span> <span class="nf">_print_NumpyAutoFill</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">func_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_aliases</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">expr</span><span class="p">),</span> <span class="n">expr</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

        <span class="n">dtype</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">expr</span><span class="o">.</span><span class="n">precision</span> <span class="o">!=</span> <span class="n">default_precision</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">dtype</span><span class="p">)]:</span>
            <span class="n">factor</span> <span class="o">=</span> <span class="mi">16</span> <span class="k">if</span> <span class="n">dtype</span> <span class="o">==</span> <span class="s1">&#39;complex&#39;</span> <span class="k">else</span> <span class="mi">8</span>
            <span class="n">dtype</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">precision</span><span class="o">*</span><span class="n">factor</span><span class="p">)</span>

        <span class="n">shape</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
        <span class="n">dtype</span> <span class="o">=</span> <span class="s2">&quot;dtype=</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">dtype</span><span class="p">)</span>
        <span class="n">order</span> <span class="o">=</span> <span class="s2">&quot;order=&#39;</span><span class="si">{}</span><span class="s2">&#39;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">order</span><span class="p">)</span> <span class="k">if</span> <span class="n">expr</span><span class="o">.</span><span class="n">order</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span>
        <span class="n">args</span>  <span class="o">=</span> <span class="p">[</span><span class="n">shape</span><span class="p">,</span> <span class="n">dtype</span><span class="p">,</span> <span class="n">order</span><span class="p">]</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">{func_name}</span><span class="s2">(</span><span class="si">{args}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">func_name</span> <span class="o">=</span> <span class="n">func_name</span><span class="p">,</span>
                <span class="n">args</span>  <span class="o">=</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">a</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">args</span> <span class="k">if</span> <span class="n">a</span><span class="p">))</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_NumpyLinspace"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_NumpyLinspace">[docs]</a>    <span class="k">def</span> <span class="nf">_print_NumpyLinspace</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_aliases</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">expr</span><span class="p">),</span> <span class="n">expr</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">dtype</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>
        <span class="n">factor</span> <span class="o">=</span> <span class="mi">16</span> <span class="k">if</span> <span class="n">dtype</span> <span class="o">==</span> <span class="s1">&#39;complex&#39;</span> <span class="k">else</span> <span class="mi">8</span>
        <span class="n">dtype</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">precision</span><span class="o">*</span><span class="n">factor</span><span class="p">)</span>

        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">{0}</span><span class="s2">(</span><span class="si">{1}</span><span class="s2">, </span><span class="si">{2}</span><span class="s2">, num=</span><span class="si">{3}</span><span class="s2">, endpoint=</span><span class="si">{4}</span><span class="s2">, dtype=&#39;</span><span class="si">{5}</span><span class="s2">&#39;)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">name</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">start</span><span class="p">),</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">stop</span><span class="p">),</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">num</span><span class="p">),</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">endpoint</span><span class="p">),</span>
                <span class="n">dtype</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_NumpyMatmul"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_NumpyMatmul">[docs]</a>    <span class="k">def</span> <span class="nf">_print_NumpyMatmul</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_aliases</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">expr</span><span class="p">),</span> <span class="n">expr</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">{0}</span><span class="s2">(</span><span class="si">{1}</span><span class="s2">, </span><span class="si">{2}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">name</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">a</span><span class="p">),</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">b</span><span class="p">))</span></div>


<div class="viewcode-block" id="PythonCodePrinter._print_NumpyFull"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_NumpyFull">[docs]</a>    <span class="k">def</span> <span class="nf">_print_NumpyFull</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_aliases</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">expr</span><span class="p">),</span> <span class="n">expr</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">dtype</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">expr</span><span class="o">.</span><span class="n">precision</span> <span class="o">!=</span> <span class="n">default_precision</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">dtype</span><span class="p">)]:</span>
            <span class="n">factor</span> <span class="o">=</span> <span class="mi">16</span> <span class="k">if</span> <span class="n">dtype</span> <span class="o">==</span> <span class="s1">&#39;complex&#39;</span> <span class="k">else</span> <span class="mi">8</span>
            <span class="n">dtype</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">precision</span><span class="o">*</span><span class="n">factor</span><span class="p">)</span>

        <span class="n">shape</span>      <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
        <span class="n">fill_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">fill_value</span><span class="p">)</span>
        <span class="n">dtype</span>      <span class="o">=</span> <span class="s2">&quot;dtype=</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">dtype</span><span class="p">)</span>
        <span class="n">order</span>      <span class="o">=</span> <span class="s2">&quot;order=&#39;</span><span class="si">{}</span><span class="s2">&#39;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">order</span><span class="p">)</span> <span class="k">if</span> <span class="n">expr</span><span class="o">.</span><span class="n">order</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span>
        <span class="n">args</span>       <span class="o">=</span> <span class="p">[</span><span class="n">shape</span><span class="p">,</span> <span class="n">fill_value</span><span class="p">,</span> <span class="n">dtype</span><span class="p">,</span> <span class="n">order</span><span class="p">]</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">{name}</span><span class="s2">(</span><span class="si">{args}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">name</span>  <span class="o">=</span> <span class="n">name</span><span class="p">,</span>
                <span class="n">args</span>  <span class="o">=</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">a</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">args</span> <span class="k">if</span> <span class="n">a</span><span class="p">))</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_NumpyArange"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_NumpyArange">[docs]</a>    <span class="k">def</span> <span class="nf">_print_NumpyArange</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_aliases</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">expr</span><span class="p">),</span> <span class="n">expr</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">{name}</span><span class="s2">(</span><span class="si">{start}</span><span class="s2">, </span><span class="si">{stop}</span><span class="s2">, </span><span class="si">{step}</span><span class="s2">, dtype=</span><span class="si">{dtype}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">name</span>  <span class="o">=</span> <span class="n">name</span><span class="p">,</span>
                <span class="n">start</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">start</span><span class="p">),</span>
                <span class="n">stop</span>  <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">stop</span><span class="p">),</span>
                <span class="n">step</span>  <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">step</span><span class="p">),</span>
                <span class="n">dtype</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">dtype</span><span class="p">))</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_PyccelInternalFunction"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_PyccelInternalFunction">[docs]</a>    <span class="k">def</span> <span class="nf">_print_PyccelInternalFunction</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_aliases</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">expr</span><span class="p">),</span><span class="n">expr</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">args</span> <span class="o">=</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">expr</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">(</span><span class="si">{}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_NumpyArray"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_NumpyArray">[docs]</a>    <span class="k">def</span> <span class="nf">_print_NumpyArray</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_aliases</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">expr</span><span class="p">),</span><span class="s1">&#39;array&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;array&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">insert_new_import</span><span class="p">(</span>
                    <span class="n">source</span> <span class="o">=</span> <span class="s1">&#39;numpy&#39;</span><span class="p">,</span>
                    <span class="n">target</span> <span class="o">=</span> <span class="n">AsName</span><span class="p">(</span><span class="n">NumpyArray</span><span class="p">,</span> <span class="s1">&#39;array&#39;</span><span class="p">))</span>
        <span class="n">arg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">arg</span><span class="p">)</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">(</span><span class="si">{}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">arg</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_NumpyRandint"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_NumpyRandint">[docs]</a>    <span class="k">def</span> <span class="nf">_print_NumpyRandint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_aliases</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">expr</span><span class="p">),</span> <span class="n">expr</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">expr</span><span class="o">.</span><span class="n">low</span><span class="p">:</span>
            <span class="n">args</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">, &quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">low</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">args</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="n">args</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">high</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">expr</span><span class="o">.</span><span class="n">rank</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">size</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
            <span class="n">args</span> <span class="o">+=</span> <span class="s2">&quot;, size = </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">size</span><span class="p">)</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">(</span><span class="si">{}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_NumpyNorm"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_NumpyNorm">[docs]</a>    <span class="k">def</span> <span class="nf">_print_NumpyNorm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_aliases</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">expr</span><span class="p">),</span> <span class="n">expr</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">axis</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">axis</span><span class="p">)</span> <span class="k">if</span> <span class="n">expr</span><span class="o">.</span><span class="n">axis</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">axis</span><span class="p">:</span>
            <span class="k">return</span>  <span class="s2">&quot;</span><span class="si">{name}</span><span class="s2">(</span><span class="si">{arg}</span><span class="s2">,axis=</span><span class="si">{axis}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span><span class="p">,</span> <span class="n">arg</span>  <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">python_arg</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="n">axis</span><span class="p">)</span>
        <span class="k">return</span>  <span class="s2">&quot;</span><span class="si">{name}</span><span class="s2">(</span><span class="si">{arg}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span><span class="p">,</span> <span class="n">arg</span>  <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">python_arg</span><span class="p">))</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_NumpyNonZero"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_NumpyNonZero">[docs]</a>    <span class="k">def</span> <span class="nf">_print_NumpyNonZero</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_aliases</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">expr</span><span class="p">),</span><span class="s1">&#39;nonzero&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;nonzero&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">insert_new_import</span><span class="p">(</span>
                    <span class="n">source</span> <span class="o">=</span> <span class="s1">&#39;numpy&#39;</span><span class="p">,</span>
                    <span class="n">target</span> <span class="o">=</span> <span class="n">AsName</span><span class="p">(</span><span class="n">NumpyNonZero</span><span class="p">,</span> <span class="s1">&#39;nonzero&#39;</span><span class="p">))</span>
        <span class="n">arg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">array</span><span class="p">)</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">(</span><span class="si">{}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">arg</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_NumpyCountNonZero"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_NumpyCountNonZero">[docs]</a>    <span class="k">def</span> <span class="nf">_print_NumpyCountNonZero</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_aliases</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">expr</span><span class="p">),</span><span class="s1">&#39;count_nonzero&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;count_nonzero&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">insert_new_import</span><span class="p">(</span>
                    <span class="n">source</span> <span class="o">=</span> <span class="s1">&#39;numpy&#39;</span><span class="p">,</span>
                    <span class="n">target</span> <span class="o">=</span> <span class="n">AsName</span><span class="p">(</span><span class="n">NumpyNonZero</span><span class="p">,</span> <span class="s1">&#39;count_nonzero&#39;</span><span class="p">))</span>

        <span class="n">axis_arg</span> <span class="o">=</span> <span class="n">expr</span><span class="o">.</span><span class="n">axis</span>

        <span class="n">arr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">array</span><span class="p">)</span>
        <span class="n">axis</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span> <span class="k">if</span> <span class="n">axis_arg</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">axis_arg</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;, &#39;</span><span class="p">)</span>
        <span class="n">keep_dims</span> <span class="o">=</span> <span class="s1">&#39;keepdims = </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">keep_dims</span><span class="p">))</span>

        <span class="n">arg</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">, </span><span class="si">{}{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">keep_dims</span><span class="p">)</span>

        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">(</span><span class="si">{}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">arg</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_Slice"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_Slice">[docs]</a>    <span class="k">def</span> <span class="nf">_print_Slice</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">start</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">start</span><span class="p">)</span> <span class="k">if</span> <span class="n">expr</span><span class="o">.</span><span class="n">start</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span>
        <span class="n">stop</span>  <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">stop</span><span class="p">)</span>  <span class="k">if</span> <span class="n">expr</span><span class="o">.</span><span class="n">stop</span>  <span class="k">else</span> <span class="s1">&#39;&#39;</span>
        <span class="n">step</span>  <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">step</span><span class="p">)</span>  <span class="k">if</span> <span class="n">expr</span><span class="o">.</span><span class="n">step</span>  <span class="k">else</span> <span class="s1">&#39;&#39;</span>
        <span class="k">return</span> <span class="s1">&#39;</span><span class="si">{start}</span><span class="s1">:</span><span class="si">{stop}</span><span class="s1">:</span><span class="si">{step}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">start</span> <span class="o">=</span> <span class="n">start</span><span class="p">,</span>
                <span class="n">stop</span>  <span class="o">=</span> <span class="n">stop</span><span class="p">,</span>
                <span class="n">step</span>  <span class="o">=</span> <span class="n">step</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_Nil"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_Nil">[docs]</a>    <span class="k">def</span> <span class="nf">_print_Nil</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;None&#39;</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_Pass"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_Pass">[docs]</a>    <span class="k">def</span> <span class="nf">_print_Pass</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;pass</span><span class="se">\n</span><span class="s1">&#39;</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_PyccelIs"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_PyccelIs">[docs]</a>    <span class="k">def</span> <span class="nf">_print_PyccelIs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">lhs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">lhs</span><span class="p">)</span>
        <span class="n">rhs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">rhs</span><span class="p">)</span>
        <span class="k">return</span><span class="s1">&#39;</span><span class="si">{0}</span><span class="s1"> is </span><span class="si">{1}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">lhs</span><span class="p">,</span><span class="n">rhs</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_PyccelIsNot"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_PyccelIsNot">[docs]</a>    <span class="k">def</span> <span class="nf">_print_PyccelIsNot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">lhs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">lhs</span><span class="p">)</span>
        <span class="n">rhs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">rhs</span><span class="p">)</span>
        <span class="k">return</span><span class="s1">&#39;</span><span class="si">{0}</span><span class="s1"> is not </span><span class="si">{1}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">lhs</span><span class="p">,</span><span class="n">rhs</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_If"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_If">[docs]</a>    <span class="k">def</span> <span class="nf">_print_If</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">blocks</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;if </span><span class="si">%s</span><span class="s2">:</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">c</span><span class="p">))</span>

            <span class="k">elif</span> <span class="n">i</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">blocks</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">LiteralTrue</span><span class="p">):</span>
                <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;else:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;elif </span><span class="si">%s</span><span class="s2">:</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">c</span><span class="p">))</span>

            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">CodeBlock</span><span class="p">):</span>
                <span class="n">body</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_indent_codestring</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
                <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">body</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
        <span class="k">return</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_IfTernaryOperator"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_IfTernaryOperator">[docs]</a>    <span class="k">def</span> <span class="nf">_print_IfTernaryOperator</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">cond</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">cond</span><span class="p">)</span>
        <span class="n">value_true</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">value_true</span><span class="p">)</span>
        <span class="n">value_false</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">value_false</span><span class="p">)</span>
        <span class="k">return</span> <span class="s1">&#39;</span><span class="si">{true}</span><span class="s1"> if </span><span class="si">{cond}</span><span class="s1"> else </span><span class="si">{false}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">cond</span> <span class="o">=</span> <span class="n">cond</span><span class="p">,</span> <span class="n">true</span> <span class="o">=</span><span class="n">value_true</span><span class="p">,</span> <span class="n">false</span> <span class="o">=</span> <span class="n">value_false</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_Literal"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_Literal">[docs]</a>    <span class="k">def</span> <span class="nf">_print_Literal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">dtype</span> <span class="o">=</span> <span class="n">expr</span><span class="o">.</span><span class="n">dtype</span>
        <span class="n">precision</span> <span class="o">=</span> <span class="n">expr</span><span class="o">.</span><span class="n">precision</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">expr</span><span class="p">,</span> <span class="p">(</span><span class="n">LiteralInteger</span><span class="p">,</span> <span class="n">LiteralFloat</span><span class="p">,</span> <span class="n">LiteralComplex</span><span class="p">))</span> <span class="ow">or</span> \
                <span class="n">precision</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">repr</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">python_value</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">cast_func</span> <span class="o">=</span> <span class="n">DtypePrecisionToCastFunction</span><span class="p">[</span><span class="n">dtype</span><span class="o">.</span><span class="n">name</span><span class="p">][</span><span class="n">precision</span><span class="p">]</span>
            <span class="n">type_name</span> <span class="o">=</span> <span class="n">cast_func</span><span class="o">.</span><span class="vm">__name__</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
            <span class="n">is_numpy</span>  <span class="o">=</span> <span class="n">type_name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;numpy&#39;</span><span class="p">)</span>
            <span class="n">cast_name</span> <span class="o">=</span> <span class="n">cast_func</span><span class="o">.</span><span class="n">name</span>
            <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_aliases</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">cast_func</span><span class="p">,</span> <span class="n">cast_name</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">is_numpy</span> <span class="ow">and</span> <span class="n">name</span> <span class="o">==</span> <span class="n">cast_name</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">insert_new_import</span><span class="p">(</span>
                        <span class="n">source</span> <span class="o">=</span> <span class="s1">&#39;numpy&#39;</span><span class="p">,</span>
                        <span class="n">target</span> <span class="o">=</span> <span class="n">AsName</span><span class="p">(</span><span class="n">cast_func</span><span class="p">,</span> <span class="n">cast_name</span><span class="p">))</span>
            <span class="k">return</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">(</span><span class="si">{}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="nb">repr</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">python_value</span><span class="p">))</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_Print"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_Print">[docs]</a>    <span class="k">def</span> <span class="nf">_print_Print</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">args</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">expr</span><span class="o">.</span><span class="n">expr</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;&#39;</span><span class="si">{}</span><span class="s2">&#39;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">f</span><span class="p">))</span>

            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span>
                    <span class="n">args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="n">args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">f</span><span class="p">))</span>

        <span class="n">fs</span> <span class="o">=</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">args</span><span class="p">)</span>

        <span class="k">return</span> <span class="s1">&#39;print(</span><span class="si">{0}</span><span class="s1">)</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fs</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_Module"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_Module">[docs]</a>    <span class="k">def</span> <span class="nf">_print_Module</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_scope</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">scope</span><span class="p">)</span>
        <span class="c1"># Print interface functions (one function with multiple decorators describes the problem)</span>
        <span class="n">imports</span>  <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">expr</span><span class="o">.</span><span class="n">imports</span><span class="p">)</span>
        <span class="n">interfaces</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">expr</span><span class="o">.</span><span class="n">interfaces</span><span class="p">)</span>
        <span class="c1"># Collect functions which are not in an interface</span>
        <span class="n">funcs</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">expr</span><span class="o">.</span><span class="n">funcs</span> <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="nb">any</span><span class="p">(</span><span class="n">f</span> <span class="ow">in</span> <span class="n">i</span><span class="o">.</span><span class="n">functions</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">expr</span><span class="o">.</span><span class="n">interfaces</span><span class="p">)</span> \
                        <span class="ow">or</span> <span class="n">f</span> <span class="ow">is</span> <span class="n">expr</span><span class="o">.</span><span class="n">init_func</span> <span class="ow">or</span> <span class="n">f</span> <span class="ow">is</span> <span class="n">expr</span><span class="o">.</span><span class="n">free_func</span><span class="p">)]</span>
        <span class="n">funcs</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">funcs</span><span class="p">)</span>
        <span class="n">classes</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">expr</span><span class="o">.</span><span class="n">classes</span><span class="p">)</span>

        <span class="n">init_func</span> <span class="o">=</span> <span class="n">expr</span><span class="o">.</span><span class="n">init_func</span>
        <span class="k">if</span> <span class="n">init_func</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_ignore_funcs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">init_func</span><span class="p">)</span>
            <span class="c1"># Collect initialisation body</span>
            <span class="n">init_if</span> <span class="o">=</span> <span class="n">init_func</span><span class="o">.</span><span class="n">get_attribute_nodes</span><span class="p">(</span><span class="n">IfSection</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
            <span class="c1"># Remove boolean from init_body</span>
            <span class="n">init_body</span> <span class="o">=</span> <span class="n">init_if</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">body</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">init_body</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">l</span><span class="p">)</span> <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">init_body</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">init_body</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>

        <span class="n">free_func</span> <span class="o">=</span> <span class="n">expr</span><span class="o">.</span><span class="n">free_func</span>
        <span class="k">if</span> <span class="n">free_func</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_ignore_funcs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">free_func</span><span class="p">)</span>

        <span class="n">imports</span> <span class="o">+=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_additional_imports</span><span class="p">())</span>

        <span class="n">body</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">((</span><span class="n">interfaces</span><span class="p">,</span> <span class="n">funcs</span><span class="p">,</span> <span class="n">classes</span><span class="p">,</span> <span class="n">init_body</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">expr</span><span class="o">.</span><span class="n">program</span><span class="p">:</span>
            <span class="n">expr</span><span class="o">.</span><span class="n">program</span><span class="o">.</span><span class="n">remove_import</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="n">prog</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">program</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">prog</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">exit_scope</span><span class="p">()</span>
        <span class="k">return</span> <span class="p">(</span><span class="s1">&#39;</span><span class="si">{imports}</span><span class="se">\n</span><span class="s1">&#39;</span>
                <span class="s1">&#39;</span><span class="si">{body}</span><span class="s1">&#39;</span>
                <span class="s1">&#39;</span><span class="si">{prog}</span><span class="s1">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                        <span class="n">imports</span> <span class="o">=</span> <span class="n">imports</span><span class="p">,</span>
                        <span class="n">body</span>    <span class="o">=</span> <span class="n">body</span><span class="p">,</span>
                        <span class="n">prog</span>    <span class="o">=</span> <span class="n">prog</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_PyccelPow"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_PyccelPow">[docs]</a>    <span class="k">def</span> <span class="nf">_print_PyccelPow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">base</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">e</span>    <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">return</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> ** </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_PyccelAdd"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_PyccelAdd">[docs]</a>    <span class="k">def</span> <span class="nf">_print_PyccelAdd</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39; + &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">expr</span><span class="o">.</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_PyccelMinus"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_PyccelMinus">[docs]</a>    <span class="k">def</span> <span class="nf">_print_PyccelMinus</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39; - &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">expr</span><span class="o">.</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_PyccelMul"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_PyccelMul">[docs]</a>    <span class="k">def</span> <span class="nf">_print_PyccelMul</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39; * &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">expr</span><span class="o">.</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_PyccelDiv"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_PyccelDiv">[docs]</a>    <span class="k">def</span> <span class="nf">_print_PyccelDiv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39; / &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">expr</span><span class="o">.</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_PyccelMod"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_PyccelMod">[docs]</a>    <span class="k">def</span> <span class="nf">_print_PyccelMod</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;%&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">expr</span><span class="o">.</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_PyccelFloorDiv"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_PyccelFloorDiv">[docs]</a>    <span class="k">def</span> <span class="nf">_print_PyccelFloorDiv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;//&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">expr</span><span class="o">.</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_PyccelAssociativeParenthesis"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_PyccelAssociativeParenthesis">[docs]</a>    <span class="k">def</span> <span class="nf">_print_PyccelAssociativeParenthesis</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;(</span><span class="si">{}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_PyccelUnary"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_PyccelUnary">[docs]</a>    <span class="k">def</span> <span class="nf">_print_PyccelUnary</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;+</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_PyccelUnarySub"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_PyccelUnarySub">[docs]</a>    <span class="k">def</span> <span class="nf">_print_PyccelUnarySub</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;-</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_PyccelAnd"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_PyccelAnd">[docs]</a>    <span class="k">def</span> <span class="nf">_print_PyccelAnd</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39; and &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">expr</span><span class="o">.</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_PyccelOr"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_PyccelOr">[docs]</a>    <span class="k">def</span> <span class="nf">_print_PyccelOr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39; or &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">expr</span><span class="o">.</span><span class="n">args</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_PyccelEq"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_PyccelEq">[docs]</a>    <span class="k">def</span> <span class="nf">_print_PyccelEq</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">lhs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">rhs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">return</span> <span class="s1">&#39;</span><span class="si">{0}</span><span class="s1"> == </span><span class="si">{1}</span><span class="s1"> &#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">lhs</span><span class="p">,</span> <span class="n">rhs</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_PyccelNe"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_PyccelNe">[docs]</a>    <span class="k">def</span> <span class="nf">_print_PyccelNe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">lhs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">rhs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">return</span> <span class="s1">&#39;</span><span class="si">{0}</span><span class="s1"> != </span><span class="si">{1}</span><span class="s1"> &#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">lhs</span><span class="p">,</span> <span class="n">rhs</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_PyccelLt"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_PyccelLt">[docs]</a>    <span class="k">def</span> <span class="nf">_print_PyccelLt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">lhs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">rhs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">return</span> <span class="s1">&#39;</span><span class="si">{0}</span><span class="s1"> &lt; </span><span class="si">{1}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">lhs</span><span class="p">,</span> <span class="n">rhs</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_PyccelLe"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_PyccelLe">[docs]</a>    <span class="k">def</span> <span class="nf">_print_PyccelLe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">lhs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">rhs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">return</span> <span class="s1">&#39;</span><span class="si">{0}</span><span class="s1"> &lt;= </span><span class="si">{1}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">lhs</span><span class="p">,</span> <span class="n">rhs</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_PyccelGt"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_PyccelGt">[docs]</a>    <span class="k">def</span> <span class="nf">_print_PyccelGt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">lhs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">rhs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">return</span> <span class="s1">&#39;</span><span class="si">{0}</span><span class="s1"> &gt; </span><span class="si">{1}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">lhs</span><span class="p">,</span> <span class="n">rhs</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_PyccelGe"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_PyccelGe">[docs]</a>    <span class="k">def</span> <span class="nf">_print_PyccelGe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">lhs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">rhs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">return</span> <span class="s1">&#39;</span><span class="si">{0}</span><span class="s1"> &gt;= </span><span class="si">{1}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">lhs</span><span class="p">,</span> <span class="n">rhs</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_PyccelNot"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_PyccelNot">[docs]</a>    <span class="k">def</span> <span class="nf">_print_PyccelNot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">return</span> <span class="s1">&#39;not </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">a</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_PyccelInvert"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_PyccelInvert">[docs]</a>    <span class="k">def</span> <span class="nf">_print_PyccelInvert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;~</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_PyccelRShift"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_PyccelRShift">[docs]</a>    <span class="k">def</span> <span class="nf">_print_PyccelRShift</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> &gt;&gt; </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_PyccelLShift"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_PyccelLShift">[docs]</a>    <span class="k">def</span> <span class="nf">_print_PyccelLShift</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> &lt;&lt; </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_PyccelBitXor"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_PyccelBitXor">[docs]</a>    <span class="k">def</span> <span class="nf">_print_PyccelBitXor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> ^ </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_PyccelBitOr"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_PyccelBitOr">[docs]</a>    <span class="k">def</span> <span class="nf">_print_PyccelBitOr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> | </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_PyccelBitAnd"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_PyccelBitAnd">[docs]</a>    <span class="k">def</span> <span class="nf">_print_PyccelBitAnd</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> &amp; </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_Duplicate"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_Duplicate">[docs]</a>    <span class="k">def</span> <span class="nf">_print_Duplicate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> * </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">val</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">length</span><span class="p">))</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_Concatenate"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_Concatenate">[docs]</a>    <span class="k">def</span> <span class="nf">_print_Concatenate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39; + &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">expr</span><span class="o">.</span><span class="n">args</span><span class="p">])</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_PyccelSymbol"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_PyccelSymbol">[docs]</a>    <span class="k">def</span> <span class="nf">_print_PyccelSymbol</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">expr</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_PythonType"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_PythonType">[docs]</a>    <span class="k">def</span> <span class="nf">_print_PythonType</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;type(</span><span class="si">{}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_print</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">arg</span><span class="p">))</span></div>

    <span class="c1">#------------------OmpAnnotatedComment Printer------------------</span>

<div class="viewcode-block" id="PythonCodePrinter._print_OmpAnnotatedComment"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_OmpAnnotatedComment">[docs]</a>    <span class="k">def</span> <span class="nf">_print_OmpAnnotatedComment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">clauses</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="k">if</span> <span class="n">expr</span><span class="o">.</span><span class="n">combined</span><span class="p">:</span>
            <span class="n">clauses</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="n">expr</span><span class="o">.</span><span class="n">combined</span>

        <span class="n">omp_expr</span> <span class="o">=</span> <span class="s1">&#39;#$omp </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">clauses</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">txt</span><span class="p">)</span>
        <span class="n">omp_expr</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}{}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">omp_expr</span><span class="p">,</span> <span class="n">clauses</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">omp_expr</span></div>

<div class="viewcode-block" id="PythonCodePrinter._print_Omp_End_Clause"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.PythonCodePrinter._print_Omp_End_Clause">[docs]</a>    <span class="k">def</span> <span class="nf">_print_Omp_End_Clause</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expr</span><span class="p">):</span>
        <span class="n">omp_expr</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">txt</span><span class="p">)</span>
        <span class="n">omp_expr</span> <span class="o">=</span> <span class="s1">&#39;#$omp </span><span class="si">{}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">omp_expr</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">omp_expr</span></div></div>

<span class="c1">#==============================================================================</span>
<div class="viewcode-block" id="pycode"><a class="viewcode-back" href="../../../../pyccel.codegen.printing.html#pyccel.codegen.printing.pycode.pycode">[docs]</a><span class="k">def</span> <span class="nf">pycode</span><span class="p">(</span><span class="n">expr</span><span class="p">,</span> <span class="n">assign_to</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">settings</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Converts an expr to a string of Python code</span>
<span class="sd">    Parameters</span>
<span class="sd">    ==========</span>
<span class="sd">    expr : Expr</span>
<span class="sd">        A SymPy expression.</span>
<span class="sd">    fully_qualified_modules : bool</span>
<span class="sd">        Whether or not to write out full module names of functions</span>
<span class="sd">        (``math.sin`` vs. ``sin``). default: ``True``.</span>
<span class="sd">    Examples</span>
<span class="sd">    ========</span>
<span class="sd">    &gt;&gt;&gt; from sympy import tan, Symbol</span>
<span class="sd">    &gt;&gt;&gt; from sympy.printing.pycode import pycode</span>
<span class="sd">    &gt;&gt;&gt; pycode(tan(Symbol(&#39;x&#39;)) + 1)</span>
<span class="sd">    &#39;math.tan(x) + 1&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">PythonCodePrinter</span><span class="p">(</span><span class="n">settings</span><span class="p">)</span><span class="o">.</span><span class="n">doprint</span><span class="p">(</span><span class="n">expr</span><span class="p">,</span> <span class="n">assign_to</span><span class="p">)</span></div>
</pre></div>

           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2023, *.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>